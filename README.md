# SpringSimulator
> 简单模拟spring


模拟spring的步骤简单记录：

现在让我们来模仿下日常开发一个项目，首先我们会新建一个spring项目，

然后我们会

- 新建一个controller或者service，给他放上@Controller\@Service等注解，相信我们稍微了解过的都知道这些注解其实除了名称之外和@Component没什么区别，只做区分，所以接下来我们统一用@Component来表示，标这个注解的目的是把这些类加入到spring的bean工厂里，由spring来帮我们管理，比如：依赖注入等。但只标注解不行，spring不知道哪些地方归他管理，所以还需要添加另一个注解@ComponentScan来开启扫描这些类，让spring知道哪些位置由他来处理，因此第一步，我们来模拟 **@ComponentScan**
- 模拟好ComponentScan之后，我们为每一个应该管理的类添加上 **@Component**注解，因此我们需要模拟Component，并添加检测component的逻辑
- 接下来我们需要实例化生成bean对象，我们知道spring中bean有单例多例之分，是通过 **@Scope** 注解来实现标注的，所以要添加@Scope注解及相关的解析逻辑。
- 这样我们就可以实例化成功一个类了，那么接下来就是要做spring说的最多的：**依赖注入**了。其实简单的说，就是我们要扫描类有哪些属性配置了需要注入的标记，扫描到之后，将依赖的类先实例化，然后注入给当前实例即可。因此可以分为：
  - 创建 **@Autowired**注解
  - 给依赖的属性添加此注解
  - 扫描类中带有此注解的属性
  - 判断是否已经实例化，如果没有则先去获取该，获取逻辑中会去判断是否为单例、是否已经实例化等等
- 到此，基本的逻辑其实就实现了，但很多时候，我们想要（不一定想要）去插手这个实例化过程，对他做些什么，类控制实例化，这也就是各种 aware的功能，来吧，让我们实现他
